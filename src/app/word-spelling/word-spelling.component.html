<mat-card>
  <mat-card-content>
    @switch (stage) {
      @case (Stage.Start) {
        <button mat-flat-button color="primary" class="w-100" (click)="start()">Почни</button>
      }

      @case (Stage.Playing) {
        @if (word) {
          <button mat-fab (click)="playWordSound()">
            <mat-icon>microphone</mat-icon>
          </button>

          <div>
            <button mat-stroked-button color="primary" class="letter-button" *ngFor="let selectedLetter of selectedLetters">{{selectedLetter}}</button>
          </div>

          <div>
            @for (letter of word.letters; track word.original) {
              <button mat-stroked-button class="letter-button" (click)="selectLetter(letter)">{{letter}}</button>
            }
          </div>

          @if (isCorrect()) {
            <h1>Браво!</h1>
            <button mat-flat-button color="primary" (click)="next()">Следеће</button>
          }

          <audio #wordSound src="/assets/words/{{word.sound}}" preload="auto"></audio>
        }
      }
    }
  </mat-card-content>
</mat-card>
